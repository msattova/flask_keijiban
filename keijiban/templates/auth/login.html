{% extends 'base.html' %}

{% block script %}
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
<script src="https://kit.fontawesome.com/d6577bf8fa.js" crossorigin="anonymous"></script>
{% endblock %}

{% block header %}
<div class="container max-w-full mx-auto py-10 px-6 flex justify-center">
  <h1 class="font-sans text-bold text-2xl">{% block title %}ログイン{% endblock %}</h1>
</div>
{% endblock %}

{% block content %}
<div class="container max-w-full mx-auto pb-24 pt-6 px-6">
  <div class="font-sans">
    <div class="max-w-sm mx-auto px-6">
      <div class="relative flex flex-wrap">
        <div class="w-full relative">
          <div class="mt-6">
            <form class="mt-8" method="post">
              <div class="mx-auto max-w-lg">
                <div class="py-2">
                  <label for="username" class="px-1 text-sm text-gray-600">ユーザー名</label>
                  <input name="username" id="username"
                    placeholder="" type="text"
                    class="text-md block px-3 py-2  rounded-lg w-full
                bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none">
                </div>
                <div class="py-2" x-data="{ show: true }">
                  <label for="password" class="px-1 text-sm text-gray-600">パスワード</label>
                  <div class="relative">
                    <input name="password" id="password"
                    placeholder="" :type="show ? 'password' : 'text'" class="text-md block px-3 py-2 rounded-lg w-full
                bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md
                focus:placeholder-gray-500
                focus:bg-white
                focus:border-gray-600
                focus:outline-none">
                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5">

                      <span id="toggle_password"
                      class="text-gray-700 fa-solid fa-eye">
                      </span>

                    </div>
                  </div>
                </div>
                <input class="cursor-pointer mt-3 text-lg font-semibold
                                bg-gray-800 w-full text-white rounded-lg
                                px-6 py-3 block shadow-xl hover:text-white hover:bg-black"
                       type="submit" value="ログイン">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script>
  $("#toggle_password").click(function () {
      $(this).toggleClass("fa-eye fa-eye-slash");

      let input = $(this).parent().parent().prev("input");
      if (input.attr("type") == "password") {
        input.attr("type", "text");
      } else {
        input.attr("type", "password");
      }
    });
</script>

{% endblock %}
